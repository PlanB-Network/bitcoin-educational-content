---
name: Samourai Wallet - 恢复
description: 如何恢复在Samourai Wallet上卡住的比特币？
---
![cover](assets/cover.webp)

随着Samourai Wallet的创始人在4月24日被逮捕以及他们的服务器被查封，应用程序的一些功能现在已经无法使用，没有自己Dojo的用户无法再广播交易。

在最近几天帮助多位用户恢复他们的比特币后，我相信我遇到了在恢复Samourai Wallet期间可能出现的大多数问题。因此，本教程将从情况报告开始，以识别在Samourai Wallet生态系统中仍然可用和不再可用的功能，以及受此事件影响的软件。接下来，我们将逐步使用Sparrow Wallet软件恢复Samourai Wallet。我们将检查在此过程中遇到的所有潜在障碍，并查看解决它们的解决方案。最后，在最后一部分，您将发现服务器被查封后对您隐私的潜在风险。

*非常感谢[@Louferlou](https://twitter.com/Louferlou)，他帮助了多位用户进行恢复并与我分享了他的经验，他还参与了测试以确定什么功能仍然可用。*

## Samourai Wallet还能工作吗？

是的，**Samourai Wallet应用仍在工作**，但是有一定的条件。

首先，必须之前已经在您的智能手机上安装了该应用。Google Play商店已经移除了该应用，APK被托管在被查封的网站上。因此，目前安装Samourai变得复杂。您可能会在线找到APK，但我不建议下载，除非您确定来源是安全的。

鉴于Samourai Wallet页面在Google Play商店不再可用，不可能禁用自动更新。如果应用返回下载平台，直到有关案件发展的更多信息可用之前，**禁用自动更新**会是明智的选择。

如果Samourai Wallet已经安装在您的智能手机上，您应该仍然能够访问应用。要使用Samourai的钱包功能，连接Dojo是必要的。以前，没有个人Dojo的用户依赖Samourai的服务器来访问比特币区块链信息和广播交易。随着这些服务器的查封，应用再也无法访问这些数据了。
如果您之前没有连接Dojo，但现在有了，您可以设置它以再次使用您的Samourai应用。这涉及检查您的备份，删除钱包（钱包，而不是应用程序），并通过将您的Dojo连接到应用程序来恢复钱包。有关这些步骤的更多详细信息，您可以查阅[本教程，在“_准备您的Samourai Wallet_”部分：COINJOIN - DOJO](https://planb.network/en/tutorials/privacy/coinjoin-dojo)。
如果您的Samourai应用已经连接到您自己的Dojo，那么钱包部分对您来说工作得很完美。您仍然可以看到您的余额和广播交易。尽管发生了这一切，我认为Samourai Wallet仍然是目前最好的移动钱包软件。就我个人而言，我计划继续使用它。
您可能遇到的主要问题是无法从应用程序访问Whirlpool账户。通常，Samourai会尝试与您的Whirlpool CLI建立连接，并在让您访问这些账户之前开始coinjoin循环。然而，由于这种连接不再可能，应用程序会无限期地继续搜索，而不会让您访问Whirlpool账户。在这种情况下，您可以在另一个钱包软件上恢复这些账户，同时只在Samourai上保留存款账户。

### Samourai上还有哪些工具可用？

另一方面，一些工具要么受到服务器关闭的影响，要么完全不可用。

关于个人消费工具，只要您拥有自己的Dojo，一切都正常工作。普通的Stonewall交易（而非Stonewall x2）没有任何问题。

Twitter上的评论强调了Stonewall交易提供的隐私可能现在已经减少。Stonewall交易的附加价值在于，从结构上看，它与Stonewall x2交易无法区分。当分析师遇到这种特定模式时，他们无法确定它是一个标准的Stonewall，只涉及单一用户，还是涉及两个用户的Stonewall x2。然而，正如我们将在以下段落中看到的，由于Soroban不可用，进行Stonewall x2交易变得更加复杂。因此，有些人认为，分析师现在可能会假设任何具有此结构的交易都是普通的Stonewall。个人而言，我不同意这个假设。尽管Stonewall x2交易可能较少（我认为在这次事件之前它们已经较少了），但它们仍然可能的事实可以使基于它们不存在的假设的整个分析无效。
**[-> 了解更多关于Stonewall交易的信息。](https://planb.network/tutorials/privacy/stonewall)**
关于Ricochet，由于我没有在Testnet上拥有Dojo，我无法验证该服务是否仍在运行，我不愿意冒险花费`100 000 sats`向可能被当局控制的钱包发送。如果您最近有机会测试这个工具，我邀请您与我联系，以便我们更新这篇文章。

如果您需要使用Ricochet，请注意，您仍然可以使用任何钱包软件手动执行此操作。要了解如何正确手动执行各种跳转，我推荐查阅另一篇文章：[**RICOCHET**](https://planb.network/tutorials/privacy/ricochet)。

JoinBot工具不再运行，因为它完全依赖于由Samourai管理的钱包的参与。

关于其他类型的协作交易，通常被称为“cahoots”，它们仍然可能，但只能手动进行。在服务器关闭之前，您有两个选择来执行Stonewall x2或Stowaway（PayJoin）交易：
- 使用Soroban网络自动并远程交换PSBTs；
- 或通过扫描多个二维码手动执行这些交换。

经过几次测试，Soroban似乎不再运行。要执行这些协作交易，因此必须手动进行数据交换。这里有两个执行此交换的选项：
- 如果您与您的合作者身处近距离，您可以连续扫描二维码；
- 如果您与合作者距离较远，可以通过应用程序外的通信渠道交换PSBTs。但是，请小心，因为这些PSBTs中包含的数据在隐私方面非常敏感。我建议使用加密的消息服务来确保交换的保密性。
**[-> 了解更多关于Stonewall x2交易的信息。](https://planb.network/tutorials/privacy/stonewall-x2)**

**[-> 了解更多关于Stowaway交易的信息。](https://planb.network/tutorials/privacy/payjoin-samourai-wallet)**

至于Whirlpool，该协议似乎不再起作用，即使是对于拥有自己Dojo的用户也是如此。这几天我一直在监控我的RoninDojo，并尝试了一些基本操作，但自服务器关闭以来，Whirlpool CLI就无法连接了。

然而，我仍然希望这个协议能够在未来几周内重新激活或以不同的方式重新设想，这取决于情况如何发展。这次暂停可能是探索新方法或对该系统进行潜在改进的机会。
### 什么外部工具仍然可用？
关于与Samourai环境相关的其他工具，有些仍然可用，而有些则不可用。

免费的链分析网站OXT.me暂时不再可用。

Whirlpool Stats Tool不再提供下载，因为它托管在Samourai的GitLab上。即使您之前已经在您的机器上本地下载了这个Python工具，或者它被安装在您的RoninDojo节点上，WST暂时也将无法工作。实际上，它依赖于OXT.me提供的数据来运行，而这个网站现在不再可访问。当前，由于Whirlpool协议处于非活动状态，WST并不特别有用。

KYCP.org网站目前也无法访问。

托管Boltzmann Calculator Python工具代码的GitLab也已被查封。因此，目前不再可能下载这个工具。但是，如果您有RoninDojo，您可以继续像以前一样使用Boltzmann Calculator。

至于RoninDojo，这个节点盒子软件尽管某些特定工具如Whirlpool CLI和WST不可用，但仍然能够正确运行。它仍然可以用于其他钱包软件，感谢Fulcrum或Electrs。如果您希望获得有关RoninDojo的更多信息，或者如果您有特定的问题，我鼓励您加入[他们的Telegram群组](https://t.me/RoninDojoNode)。

然而，RoninDojo的源代码目前无法访问，因为它托管在Samourai的GitLab上。因此，目前在树莓派上手动安装它是不可能的。

关于仅限查看的钱包软件Sentinel，情况与Samourai应用类似。如果您有自己的Dojo，您可以继续使用Sentinel而不会有任何问题。然而，如果您没有Dojo，您将无法建立连接。与Samourai不同，Sentinel网站仍然可以在线访问。但是要小心这个网站和那里提供的APK，因为目前还不清楚谁在控制这些资源。

### Sparrow Wallet是否受到影响？
麻雀钱包继续正常运行，唯一的例外是Samourai工具不再可用。目前，通过麻雀钱包执行coinjoins已不再可能。同样，协作支出工具也无法访问，因为与Samourai不同，麻雀钱包不提供手动交换PSBTs的选项。对于所有其他功能，麻雀钱包无故障运行。如果有必要，您也可以使用这款软件恢复Samourai钱包。

## 如何恢复Samourai钱包？
正如我们在前面的部分看到的，如果你拥有自己的Dojo，不一定需要切换软件。**Samourai仍然是日常支出的绝佳热钱包选择**。然而，如果你没有Dojo，或者你更愿意选择另一款软件，我将解释完整的恢复过程，并详细说明你可能遇到的任何潜在障碍。

无论如何，重要的是要花时间确保不犯任何错误。记住，不用急，因为你持有你的私钥，Samourai服务器的没收不会以任何方式影响这一点。无论发生什么，他们显然无法访问你的私钥。

### 验证密码短语

要恢复你的钱包，即使你选择通过备份文件恢复，你也必须有你的密码短语。首先验证这个密码短语的有效性。打开你的Samourai钱包应用，点击左上角的Paynym图标，然后选择`设置`。

![samourai](assets/1.webp)

接下来，点击`故障排除`，然后点击`密码短语/备份测试`。

![samourai](assets/2.webp)

输入你的密码短语并点击`确定`。如果正确，Samourai将确认它。如果你计划稍后使用它，你也有选项来验证备份文件。

![samourai](assets/3.webp)

这一步是可选的，但推荐。它确认密码短语是正确的，消除了稍后可能出现的问题来源。如果Samourai在这个阶段指出密码短语不正确，恢复将不可能。确保你已正确输入密码短语并再次检查。

### 选项1：使用备份文件在麻雀钱包上恢复钱包

自从麻雀钱包1.8.6版本以来，可以直接使用名为`samourai.txt`的备份文本文件导入你的Samourai钱包，你的应用会自动生成这个文件。这个文件包含恢复你的钱包所需的所有信息，并且为了安全起见，用你的密码短语加密。

如果你选择这个选项，你将需要你最新的`samourai.txt`文件和你的密码短语。要在Samourai钱包上生成这个文件，点击右上角的三个小点，然后选择`导出钱包备份`。

![samourai](assets/4.webp)
接下来，选择`导出到剪贴板`。之后，你需要将这个文件安全地传输到你的PC。由于文件是加密的，但密码短语本身就足以解密它，所以在传输过程中采取预防措施很重要。如果你选择直接以纯文本形式传输，你需要在你的PC上创建一个`samourai.txt`文件，并将剪贴板的内容粘贴进去。另一种方法是直接从手机上存储的文件中检索`samourai.txt`文件。
一旦你在PC上访问到文件，打开麻雀钱包，点击`文件`标签，并选择`导入钱包`开始导入你的钱包。

![samourai](assets/5.webp)
滚动到`Samourai Backup`，点击`Import File`，然后选择你的`samourai.txt`文件。
![samourai](assets/6.webp)

Sparrow接下来会要求你输入一个密码来解密文件。这个密码实际上是你的助记词。在相应的字段中输入它，然后点击`Import`。

![samourai](assets/7.webp)

如果在这个阶段，你的钱包没有出现，可能是你在复制`samourai.txt`文件或输入助记词时出了错。你可以查阅故障排除部分以获取更多帮助。

![samourai](assets/8.webp)

对于脚本类型，如果你在Samourai中没有配置其他脚本，你通常应该只使用SegWit V0（原生SegWit / P2WPKH）。保持这个默认脚本并点击`Import`。

![samourai](assets/9.webp)

为你的钱包命名，例如，“Samourai Recovery”，然后点击`Create Wallet`。

![samourai](assets/10.webp)

Sparrow接下来会要求你选择一个密码。这个密码仅保护你在这台PC上访问你的钱包，并不涉及到你钱包密钥的派生。确保选择一个强密码，记下来以便记住，然后点击`Set Password`。

![samourai](assets/11.webp)

Sparrow接下来会派生你钱包的密钥并搜索相应的交易。

![samourai](assets/12.webp)

目前，只有你的存款账户是可访问的。如果你仅使用Samourai用于此账户，你应该看到所有的资金。然而，如果你还使用了Whirlpool，你将需要派生`premix`、`postmix`和`badbank`账户。在Sparrow上，简单地点击`Settings`标签，然后点击`Add Accounts...`。

![samourai](assets/13.webp)
在打开的窗口中，从下拉菜单选择`Whirlpool Accounts`，然后点击`OK`。
![samourai](assets/14.webp)

接下来你将看到你的各种Whirlpool账户出现，Sparrow将派生必要的密钥来使用关联的比特币。

![samourai](assets/15.webp)

如果你使用的是Sparrow以外的软件，如Electrum，来恢复你的Samourai钱包，这里是手动恢复的Whirlpool账户索引：
- 存款：`m/84'/0'/0'`
- 坏账：`m/84'/0'/2147483644'`
- 预混：`m/84'/0'/2147483645'`
- 后混：`m/84'/0'/2147483646'`

你现在可以在Sparrow上访问你的比特币了。如果你需要帮助使用Sparrow Wallet，你也可以查看[我们的专门教程](https://planb.network/tutorials/wallet/sparrow)。

我还建议手动导入你在Samourai上与你的UTXOs关联的标签。这将允许你随后在Sparrow上进行有效的硬币控制。

### 选项2：使用助记词在Sparrow上恢复钱包

如果你不希望使用备份文件进行恢复，你可以选择使用更传统的方法，仅通过你的12个单词的恢复短语和你的助记词。这第二个选项通常更简单。
首先，确保你手头有恢复短语和密码短语。然后，打开Sparrow Wallet软件，点击`File`标签，并选择`Import Wallet`开始导入你的钱包。
![samourai](assets/16.webp)

选择`Mnemonic Words (BIP39)`，在下拉菜单中点击`Use 12 Words`。

![samourai](assets/17.webp)

按正确顺序输入你的恢复短语的12个单词。

![samourai](assets/18.webp)

如果Sparrow显示`Invalid Checksum`消息，这表明恢复短语的校验和无效，这可能意味着你在输入单词时犯了一个错误。

![samourai](assets/19.webp)

如果你的短语正确，勾选`Use Passphrase?`框，并在专用字段中输入你的密码短语。最后，如果一切看起来都正确，点击`Discover Wallet`按钮。

![samourai](assets/20.webp)

为你的钱包命名，例如，“Samourai Recovery”，然后点击`Create Wallet`。

![samourai](assets/21.webp)
Sparrow接下来会要求你选择一个密码。这个密码仅保护你在这台PC上访问你的钱包，并不关系到你钱包密钥的派生。确保选择一个强密码，写下来以便记住，然后点击`Set Password`。
![samourai](assets/22.webp)

Sparrow接下来将为你的钱包派生密钥，并搜索相应的交易。

![samourai](assets/23.webp)

如果在这个阶段，你的钱包没有出现，可能是你在输入密码短语或恢复短语时犯了一个错误。你可以查阅专用的故障排除部分以获得更多帮助。

目前，只有你的存款账户是可访问的。如果你仅使用Samourai用于此账户，你应该看到所有的资金。然而，如果你也使用了Whirlpool，你将需要派生`premix`、`postmix`和`badbank`账户。在Sparrow上，简单地点击`Settings`标签，然后点击`Add Accounts...`。

![samourai](assets/24.webp)

在打开的窗口中，从下拉列表中选择`Whirlpool Accounts`，然后点击`OK`。

![samourai](assets/25.webp)

然后你将看到你的各种Whirlpool账户出现，Sparrow将派生必要的密钥以使用关联的比特币。

![samourai](assets/26.webp)

如果你正在使用另一个软件如Electrum来恢复你的Samourai钱包，这里是手动恢复的Whirlpool账户索引：
- 存款：`m/84'/0'/0'`
- 坏账：`m/84'/0'/2147483644'`
- 预混：`m/84'/0'/2147483645'`
- 后混：`m/84'/0'/2147483646'`

你现在可以在Sparrow上访问你的比特币了。如果你需要帮助使用Sparrow Wallet，你也可以查阅[我们的专用教程](https://planb.network/tutorials/wallet/sparrow)。

我还建议手动导入你在Samourai上与你的UTXOs关联的标签。这将允许你随后在Sparrow上进行有效的硬币控制。

### 常见问题有哪些？
在过去几天里协助了几位用户之后，我相信我已经遇到了大多数可能阻碍您恢复钱包的问题。如果您按照之前的教程操作后仍然无法访问您的钱包，这里有一些额外的建议。首先也是最重要的，为了使恢复工作，绝对必须确保恢复短语是正确的。如果您找不到您的12个单词的短语，您可以使用*选项1*从Samourai的备份文件中恢复。您也可以直接在Samourai Wallet中通过导航到`设置`，然后是`钱包`，最后选择`显示12个单词的恢复短语`来访问您的恢复短语。

接下来，如果您在恢复过程中输入密码短语时出现打字错误，将导致派生的密钥不正确，这将阻止您在Sparrow上恢复您的钱包。**密码短语必须完全准确！**

为了解决这个问题，我首先建议您按照本文中的“_验证密码短语_”部分所述，在Samourai应用程序中检查您的密码短语的有效性：
1. **在Samourai中验证：**如果Samourai确认密码短语是正确的，尝试从头开始再次进行恢复，确保在Sparrow中准确无误地输入密码短语；
2. **密码短语错误：**如果Samourai指出密码短语不正确，那么在Sparrow上继续尝试是没有意义的。只要找不到正确的密码短语，恢复您的钱包就是不可能的。如果您永久性地丢失了您的密码短语，保持您的Samourai应用程序安全。您所能做的就是希望服务器重新启动，这样您就可以直接从应用程序进行支出，而不需要恢复。**在这种情况下，不要尝试连接Dojo**，因为这将意味着需要访问密码短语才能在Samourai上重置您的钱包。

在遇到的其他错误中，许多与Sparrow上的网络配置有关。

首先，确保Sparrow正确配置在`mainnet`模式而不是`testnet`模式。的确，如果Sparrow在Testnet上搜索您的交易，它将一无所获，因为您的钱包在Mainnet上。Testnet是比特币的一个替代版本，仅用于测试和开发，并且在一个与主网络（Mainnet）分开的网络上运行，拥有自己的区块和交易。要检查您所在的网络，请点击`工具`标签，然后点击`重新启动为`。如果显示`Mainnet`选项，那么您不在主网络上。选择它以在Mainnet上重新启动Sparrow，然后再次开始您的恢复过程。

![samourai](assets/27.webp)
有些人在将Sparrow连接到他们的节点时也遇到了困难。在Sparrow的右下角，一个彩色的开关指示您的软件是否正确连接到比特币节点。要检索您的Samourai交易，软件的良好连接是必不可少的。检查开关是否已激活，如下图所示（黄色表示公共节点，绿色表示Bitcoin Core，蓝色表示Electrum服务器）。
![samourai](assets/28.webp)

如果开关没有激活，点击它以重新激活连接。

![samourai](assets/29.webp)

如果问题仍然存在，这里有一些可能的解决方案：
- 如果您尝试连接到您自己的Electrum服务器（蓝色）或您的Bitcoin Core（绿色）而Sparrow无法连接，请在`文件 > 偏好设置... > 服务器`下检查连接信息；

![samourai](assets/30.webp)
- 如果连接问题仍然存在，可能是由于您的节点未完全同步造成的。确保您的节点和索引器已100%同步。如果必要，作为最后手段，将您的节点与Sparrow断开连接，并连接到一个公共节点；- 如果您已经连接到一个公共节点，但连接失败，请尝试通过从下拉列表中选择另一个节点来更换节点。

![samourai](assets/31.webp)

如果您已成功恢复您的钱包，但它似乎不完整，可能存在与派生相关的问题。

如果您使用的Samourai存款账户采用的是与`P2WPKH`不同的脚本类型，可能会出现问题。Samourai默认使用这种脚本类型，但如果您已手动更改，您也必须在Sparrow上恢复时进行调整。

要为其他脚本类型派生分支，您需要重复每个使用的脚本类型的恢复过程。为此，请在Sparrow上转到`文件 > 新钱包`，从下拉列表中选择另一种脚本类型，点击`新建或导入的软件钱包`，并按照初始教程中的相同步骤操作。

![samourai](assets/32.webp)

我遇到的另一个派生问题与Gap Limit值有关。这个值告诉Sparrow在多少个空地址后应该停止派生新地址。如果恢复后，您注意到一些交易丢失，这可能是由于Gap Limit太低。为了解决这个问题，请转到导致问题的账户，例如，postmix账户（如果有几个账户受到影响，重复此操作）。

![samourai](assets/33.webp)

点击`设置`标签，然后点击`高级...`按钮。
![samourai](assets/34.webp)
逐渐增加Gap Limit的值，例如，我在这里将它设置为`400`。然后，点击`关闭`按钮。

![samourai](assets/35.webp)

点击`应用`以完成。Sparrow随后会派生更多地址并在它们上搜索资金，这应该有助于恢复您的所有交易。

![samourai](assets/36.webp)

这涵盖了我在过去几天遇到的各种恢复问题。如果在尝试了所有这些解决方案后，您仍然遇到问题，我邀请您加入[Discover Bitcoin Discord](https://discord.gg/xKKm29XGBb)寻求帮助。我定期访问这个Discord，如果我有解决方案，我将很高兴提供帮助。其他比特币用户也将能够分享他们的经验并提供帮助。**无论如何，保密您的恢复短语、备份文件和密码短语至关重要**。不要与任何人分享，因为这可能允许他们窃取您的比特币。

一旦恢复完成，您现在可以访问您的比特币了。这是一件好事，但可能还不够。事实上，服务器的查封提出了您隐私的新潜在风险。在接下来的部分中，我们将详细检查这些风险，并概述保护您隐私的预防措施。

## 您的交易隐私的后果是什么？

### 作为一个没有Dojo的Samourai用户

如果您在没有连接自己的Dojo的情况下使用Samourai Wallet，您的xpubs必须传达给Samourai的服务器以使应用程序功能正常。随着这些服务器的查封，现在有可能当局已经可以访问这些xpubs。
这种情况仍然是假设性的。我们不知道这些xpubs是否被记录下来，任何可能的存储是否被销毁，当局是否已经恢复它们，以及他们是否计划用它们进行链分析。然而，在这种情况下，谨慎地考虑最坏的情况是明智的，即当局拥有那些没有连接自己Dojo的用户的xpubs。作为参考，xpub是一个包含生成子公钥（公钥+链码）所需的所有元素的字符串。它用于分层确定性钱包中，以生成接收地址和观察账户的交易，而不暴露相关的私钥。这允许例如创建一个“仅观察”钱包。然而，泄露xpubs可以妥协用户的隐私，因为它们允许第三方跟踪交易并查看相关账户的余额。
任何知道你的xpubs的人因此可以看到你钱包的所有接收地址，过去使用的那些，以及将来将生成的那些。

对于没有Dojo的用户，你的xpubs潜在泄露有两个主要后果：
- 从隐私角度来看，你可能进行的coinjoins对于知道你的xpubs的任何人来说都变得无效，因此你的币失去了所有匿名集；
- 这个人还可以跟踪你的Samourai Wallet的所有接收地址。

因此，考虑最坏的情况并放弃这个在隐私方面可能受到妥协的钱包是很重要的。为此，用另一个软件从头开始创建一个新钱包，比如Sparrow Wallet。在验证你的备份的有效性后，通过进行交易转移你所有的资金。尽管这个操作不会打破你的币的可追踪性链接，但它将阻止当局确切地知道你新钱包的地址。

在这次转移操作期间，我建议避免合并你的币。如果我们假设你的xpubs已经受到妥协，合并对于拥有这些xpubs的人来说没有影响，因为你的隐私已经因为它们而受到妥协。然而，我建议你不要过多地合并你的币，主要是为了保护你免受其他人的隐私侵犯。在最坏的情况下，只有当局可能访问你的xpubs，但其他人不知道它们。因此，从其他人的角度来看，合并你的币可能会因为共同输入所有权启发式（CIOH）显著损害你的隐私。

最后，为了彻底打破跟踪，还要考虑从这个新钱包进行coinjoins。
**警告：**仅仅在Sparrow Wallet上检索你的Samourai钱包是不够的。如果你想避免使用可能已经泄露的xpubs，就必须创建一个全新的钱包，带有新的恢复短语。如果你将现有的种子导入到Sparrow，你只是更改了钱包管理软件，但钱包保持不变。

### 作为Sparrow或带Dojo的Samourai的用户

如果你的钱包仅在Sparrow Wallet上管理，你的xpubs就不可能泄露，无论你是使用公共节点还是你自己的比特币节点。同样，如果你使用Samourai应用，并且自创建钱包以来一直将此应用连接到你自己的Dojo，你的xpubs也是安全的。
然而，如果您在**没有自己的Dojo**的情况下和拥有自己的Dojo期间使用了同一个钱包，那么Samourai服务器可能已经访问过您的xpubs，因此当局可能知道这些信息。如果您处于这种特定情况，我建议您遵循前一节的建议，并认为您的xpubs已经泄露。

对于那些一直使用Sparrow或Samourai与自己的Dojo的人来说，主要风险是您的硬币的匿名集可能会被减少。假设在最坏的情况下，所有没有Dojo的用户的xpubs都落入了当局手中，那么这些当局就可以追踪他们的硬币通过coinjoin周期的路径。

为了说明这一点，让我们来看一个具体的例子。想象一下，您参与了第一轮coinjoin，然后是两个额外的下游coinjoin周期。如果没有Dojo的用户的xpubs没有泄露，那么从理论上讲，您的硬币的匿名集将是13。

![samourai](assets/37.webp)

然而，如果我们考虑到xpubs已经泄露，并且您在初始coinjoin中遇到了一个没有dojo的用户，然后在第一个下游coinjoin中遇到了2个，那么从当局的角度看，您的预期匿名集将只有10而不是13。

![samourai](assets/38.webp)
这种潜在的匿名集减少是复杂的，因为它取决于许多因素，每个硬币受到的影响也不同。例如，在早期周期中遇到的没有Dojo的用户比在后期周期中遇到的影响预期匿名集要大得多。为了给您一个情况的想法，这仍然是假设性的，Samourai提供的最新统计数据表明，参与coinjoins的硬币中有85%到90%来自拥有Dojo、Sparrow或Bitcoin Keeper的用户，即使在最坏的情况下，这些用户的xpubs也不会泄露。
虽然这些数字很难验证，但出于两个原因，它们对我来说似乎是一致的：
- Sparrow Wallet被广泛使用；
- 大多数节点盒子软件提供Dojo实现，而这些主流软件如Umbrel如今非常流行。

因此，需要考虑几个方面。如果您的硬币对当局的隐私极其重要，那么准备最坏的情况将是谨慎的，很难保证100%您的Whirlpool coinjoin周期不会因为没有Dojo的用户的xpubs潜在泄露而被追踪。虽然这种假设极不可能，但并非不可能。

另一方面，如果您的硬币对可能拥有这些xpubs的当局的隐私不是至关重要的，那么情况可以有所不同。

我指的是“对当局而言”，因为重要的是要记住，只有查封服务器的当局可能知道这些xpubs。如果您使用coinjoin的目的是为了防止您的面包师能够跟踪您的资金，那么他在服务器被查封之前就和现在一样，没有更好的了解。
最后，考虑您的硬币在服务器被查封之前的初始匿名集（anonset）是至关重要的。以一个达到了预期匿名集40,000的硬币为例；这个匿名集的潜在减少可能是微不足道的。实际上，由于已经有了一个非常高的基础匿名集，少数几个没有使用Dojo的用户的存在不太可能根本改变情况。然而，如果您的硬币的匿名集只有40，那么这种潜在的泄露可能会严重影响您的匿名集，并可能允许追踪。由于OXT.me关闭后WST工具已经停止服务，您只能估计这些匿名集。对于回顾性匿名集，由于Whirlpool模型确保了从第一次coinjoin开始它就非常高，感谢您的同伴的遗产，所以不用太担心。唯一可能出现问题的情况是，如果您的硬币几年都没有被重新混合，并且是在池子启动之初被混合的。关于预期匿名集，您可以检查您的硬币可用于coinjoins的时间长度。如果已经有几个月了，那么它可能有一个极高的预期匿名集。相反，如果它在服务器被查封前几小时才被添加到池中，那么它的预期匿名集可能非常低。
[**-> 了解更多关于匿名集及其计算方法的信息。**](https://planb.network/tutorials/privacy/wst-anonsets)

另一个需要考虑的方面是混合后的硬币的匿名集整合对匿名集的影响。鉴于通过Samourai应用程序无法再访问Whirlpool账户，很可能许多用户已经将他们的钱包转移到其他软件，并试图从Whirlpool中提取他们的资金。特别是上周末，当比特币网络上的交易费用相对较高时，有一个强烈的技术和经济动机来整合混合后的硬币。这意味着很可能许多用户已经进行了重大的整合。

这些混合后整合的问题在于，它们总是减少匿名集，不仅对执行它们的用户，也对他们在coinjoin周期中遇到的用户。虽然我无法准确地验证或量化这种现象，但当时与交易费用相关的经济激励可以让我们假设匿名集可能较低。

### 作为Sentinel用户

只读钱包应用Sentinel的网络操作类似于Samourai。要访问您的钱包信息，应用程序必须将您提供的xpubs、公钥和地址传输给Dojo。如果您一直在Sentinel上使用自己的Dojo，那么没有问题，您可以继续无忧无虑地使用该应用程序。然而，如果您依赖Samourai的服务器来使用您的Sentinel，那么您的xpubs可能已经暴露。在这种情况下，建议遵循与连接到Samourai服务器的Samourai Wallet相同的钱包更换流程。

在不太可能的情况下，如果您在使用Samourai时使用了您的Dojo，但在使用Sentinel时没有使用，那么更明智的做法是认为您的xpubs已经受到威胁。

## 结论
感谢您阅读本文至最后。如果您认为信息有遗漏，或者有任何建议，请毫不犹豫地联系我分享您的想法。此外，如果您在遵循本教程恢复您的Samourai Wallet时仍需要进一步的帮助，我邀请您加入[Discover Bitcoin Discord](https://discord.gg/xKKm29XGBb)寻求帮助。我定期访问这个Discord，并且如果我有解决方案，我将非常乐意为您提供帮助。其他比特币用户也将能够分享他们的经验并提供他们的支持。**无论如何，保密您的恢复短语、备份文件和密码短语至关重要**。不要与任何人分享，因为这可能使他们能够窃取您的比特币。